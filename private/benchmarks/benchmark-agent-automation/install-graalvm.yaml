#
# Copyright (c) 2002-2020 "Neo4j,"
# Neo4j Sweden AB [http://neo4j.com]
# This file is part of Neo4j internal tooling.
#

---
  - hosts: machines
    remote_user: neo
    tasks:
      - name: unarchive graalvm
        unarchive:
          src: https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-19.3.0/graalvm-ce-java11-linux-amd64-19.3.0.tar.gz
          dest: /usr/lib/jvm
          remote_src: yes
          creates: /usr/lib/jvm/graalvm-ce-java11-19.3.0
        notify:
          - link graalvm directory
        become: yes
    handlers:
      - name: link graalvm directory
        file:
          path: /usr/lib/jvm/graalvm-ce-java11
          src: /usr/lib/jvm/graalvm-ce-java11-19.3.0
          state: link
        become: yes
